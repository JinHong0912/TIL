# π™‹π»β€β™‚οΈ[μ΄λ΅ ] @RequestBodyμ™€ @ResponseBody μ‚¬μ©


### π™‹π»β€β™‚οΈμ΄λ΅  λ‚΄μ©


**π’΅ μ΄λ²μ—λ” @RequestBodyμ™€ @ResponseBodyλ¥Ό μ™ μ‚¬μ© ν•λ”μ§€ μ•μ•„ λ³΄μ.**

### μ„λ΅ 

μ¤ν”„λ§μ—μ„ λΉ„λ™κΈ° μ²λ¦¬λ¥Ό ν•λ” κ²½μ° @RequestBody μ™€ @ResponseBodyλ¥Ό μ‚¬μ© ν•λ‹¤.

μ‹¤μ λ΅ ν”„λ΅κ·Έλ¨μ„ ν• λ• μ„μ μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ© ν•μ—¬ μ–΄λ–»κ² λΉ„λ™κΈ° μ²λ¦¬λ¥Ό ν•  κ²ƒμΈμ§€λ¥Ό μ•μ•„λ³΄μ

### ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„μ λΉ„λ™κΈ° ν†µμ‹  μ²λ¦¬

μ›Ήμ—μ„ μ΄λ£¨μ–΄μ§€λ” λ°μ΄ν„°λ¥Ό κ°€μ Έμ¤κ³ , μ „μ†΅ν•λ” μ΄λ¬ν• λ™μ‘λ“¤μ€ `ν΄λΌμ΄μ–ΈνΈ(Client)μ™€ μ„λ²„(Server)κ°„μ ν†µμ‹ `μ΄ μ΄λ£¨μ–΄μ§€κΈ° λ•λ¬Έμ— κ°€λ¥ν•λ‹¤.

EX) μ°λ¦¬κ°€ λΈλΌμ°μ €μ—μ„ κ²€μƒ‰ ν‚¤μ›λ“λ¥Ό μ…λ ¥ν•κ³  κ²€μƒ‰ λ²„νΌμ„ λ„λ¥΄κ² λλ©΄ κ²€μƒ‰ ν‚¤μ›λ“κ°€ ν΄λΌμ΄μ–ΈνΈ(JS)λ¥Ό ν†µν•΄ μ„λ²„(Java)λ΅ μ „μ†΅μ΄ λλ©΄ μ„λ²„μ—μ„ κ²€μƒ‰ ν‚¤μ›λ“λ¥Ό μ΄μ©ν•μ—¬, ν΄λΌμ΄μ–ΈνΈμ—μ„ μ”μ²­ν• λ©”μ‹μ§€λ¥Ό μ²λ¦¬ν•κ³ , μ‘λ‹µμ„ λ§λ“¤μ–΄μ„ λ‹¤μ‹ ν΄λΌμ΄μ–ΈνΈλ΅ λ³΄λ‚΄λ©° ν΄λΌμ΄μ–ΈνΈλ” ν™”λ©΄μ— λΏλ¦¬λ” μ—­ν• μ„ ν•κ² λλ‹¤.

μ—¬κΈ°μ„ μ¤‘μ”ν• ν¬μΈνΈκ°€ λ°”λ΅ `μ”μ²­(Request)` κ³Ό `μ‘λ‹µ(Response)` μ΄λ‹¤.

μ¦‰, ν΄λΌμ΄μ–ΈνΈμ—μ„ μ„λ²„λ΅ ν†µμ‹ ν•λ” λ©”μ‹μ§€λ¥Ό μ”μ²­λ©”μ‹μ§€λΌκ³  ν•λ©°, μ„λ²„μ—μ„ ν΄λΌμ΄μ–ΈνΈλ΅ ν†µμ‹ ν•λ” λ©”μ‹μ§€λ¥Ό μ‘λ‹µ λ©”μ‹μ§€λΌκ³  ν•λ‹¤.

λ” μμ„Έν λ°°μ°κ³  μ‹¶λ‹¤λ©΄ [π™‹π»β€β™‚οΈ[μ΄λ΅ ] HTTP : Request , Response κ°λ…κ³µλ¶€](https://www.notion.so/HTTP-Request-Response-d99e816b0bcb4cbb9a82918250a61b25)

λ³΄ν†µ μ›Ήμ—μ„ ν™”λ©΄ μ „ν™( refresh, F5)μ΄ μ—†μ΄ μ΄λ£¨μ–΄μ§€λ” λ™μ‘λ“¤μ€ λ€λ¶€λ¶„ λΉ„λ™κΈ° ν†µμ‹ μΌλ΅ μ΄λ£¨μ–΄μ§„λ‹¤. λΉ„λ™κΈ° ν†µμ‹ μ„ ν•κΈ° μ„ν•΄μ„ ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„λ΅ μ”μ²­ λ©”μ‹μ§€μ λ³Έλ¬Έμ— λ°μ΄ν„°λ¥Ό λ‹΄μ•„μ„ λ³΄λ‚΄μ•Ό ν•λ©°, μ„λ²„λ„ ν΄λΌμ΄μ–ΈνΈλ΅ μ‘λ‹µμ„ λ³΄λ‚΄κΈ° μ„ν•΄μ„λ” μ‘λ‹µ λ©”μ‹μ§€μ— λ³Έλ¬Έμ— λ°μ΄ν„°λ¥Ό λ‹΄μ•„μ„ λ³΄λ‚΄μ•Όν•λ‹¤.

μ¤‘μ”ν• ν¬μΈνΈλ” λ°”λ΅ `λ³Έλ¬Έ(Body)`μ΄λ‹¤. μ„μ™€ κ°™μ΄ κ°•μ΅°ν• ν¬μΈνΈ `μ”μ²­(Request)κ³Ό μ‘λ‹µ(Response)` κ·Έλ¦¬κ³  λ‹¤μμΌλ΅ κ°•μ΅°ν• ν¬μΈνΈμΈ λ³Έλ¬Έμ„ μ—°κ²°ν•μ—¬ λ‹¨μ–΄λ¥Ό λ§λ“¤λ©΄

`μ”μ²­λ³Έλ¬Έ(RequestBody),μ‘λ‹µλ³Έλ¬Έ(ResponseBody)` λΌλ” λ‹¨μ–΄κ°€ λ§λ“¤μ–΄μ§„λ‹¤.

μ—¬κΈ°μ„ λ³Έλ¬Έμ— λ‹΄κ²¨μ•Ό ν•λ” λ°μ΄ν„°μ ν•μ‹μ€ λ¬΄μ—‡μΌκΉ?

μ—¬λ¬ μΆ…λ¥κ°€ μκ² μ§€λ§ λ€ν‘μ μΌλ΅ μ‚¬μ© λλ” κ²ƒμ€ λ°”λ΅ JSON(Javascript Object Notation)μ΄λ‹¤.

> JSON(μ μ΄μ¨, JavaScript Object Notation)μ€ μ†μ„±-κ°’ μ λλ” ν‚¤-κ°’μΌλ΅ μ΄λ£¨μ–΄μ§„ λ°μ΄ν„° μ¤λΈμ νΈλ¥Ό μ „λ‹¬ν•κΈ° μ„ν•΄ μΈκ°„μ΄ μ½μ„ μ μλ” ν…μ¤νΈλ¥Ό μ‚¬μ©ν•λ” κ°λ°©ν• ν‘μ¤€ ν¬λ§·μ΄λ‹¤. λΉ„λ™κΈ° λΈλΌμ°μ €/μ„λ²„ ν†µμ‹ (AJAX)μ„ μ„ν•΄, λ„“κ²λ” XML(AJAXκ°€ μ‚¬μ©)μ„ λ€μ²΄ν•λ” μ£Όμ” λ°μ΄ν„° ν¬λ§·μ΄λ‹¤. νΉν, μΈν„°λ„·μ—μ„ μλ£λ¥Ό μ£Όκ³  λ°›μ„ λ• κ·Έ μλ£λ¥Ό ν‘ν„ν•λ” λ°©λ²•μΌλ΅ μ•λ ¤μ Έ μλ‹¤. μλ£μ μΆ…λ¥μ— ν° μ ν•μ€ μ—†μΌλ©°, νΉν μ»΄ν“¨ν„° ν”„λ΅κ·Έλ¨μ λ³€μ κ°’μ„ ν‘ν„ν•λ”λ° μ ν•©

### μ¦‰, λΉ„λ™κΈ° ν΄λΌμ΄μ–ΈνΈ μ„λ²„ ν†µμ‹ μ„ μ„ν•΄μ„ λ°μ΄ν„°λ¥Ό μ „μ†΅ν•λ”λ° JSONμ΄λΌλ” ν•μ‹μ λ°μ΄ν„°λ¥Ό μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈ μ„λ΅μ„λ΅μ—κ² μ „μ†΅ν•λ” κ²ƒ.

----------

### μ”μ²­ λ³Έλ¬Έ(@RequestBody)μ— λ‹΄κΈ΄ κ°’μ„ μλ°” κ°μ²΄λ΅ Conversion

@RequestBodyλ¥Ό ν†µν•΄μ„ μλ°” κ°μ²΄λ΅ `Conversion` μ„ ν•  λ• κ·Έλƒ¥ λ³€ν™λλ” κ²ƒμ΄ μ•„λ‹λΌ `HttpMessageConverter` λ¥Ό μ‚¬μ©ν•λ”λ° μ•„λμ λ©”μ„λ“μ— κ°μΆ…μ λ©”μ‹μ§€ `Converter(μ»¨λ²„ν„°)`κ°€ μ„¤μ • λμ–΄ μλ‹¤.

```
WebMvcConfigurationSupport.addDefaultHttpMessageConverters
```

λ§μ•½ μ”μ²­μ΄ JSONμΌλ΅ λ“¤μ–΄μ¨ κ²½μ° μ”μ²­ ν—¤λ”μ—(Request header)μ— μ»¨ν…μΈ νƒ€μ…(Content-Type)μ„ μ•λ ¤μ¤μ•Ό ν•λ‹¤. κ·Έλ¬λ©΄ ν—¤λ”μ— μλ” μ»¨ν…μΈ  νƒ€μ…μ„ λ³΄κ³  JSONμ„ μ»¨λ²„ν… ν•  μ μλ” μ»¨λ²„ν„°`(Jackson20bjectMapperBuilder)`λ¥Ό μ‚¬μ© ν•΄μ•Ό κ² λ‹¤λΌκ³  JSONμ„ μλ°” κ°μ²΄λ¬ λ³€ν™ν•λ” λ©”μ‹μ§€ μ»¨λ²„ν„°λ¥Ό μ‚¬μ©ν•μ—¬ μ”μ²­ λ³Έλ¬Έμ— λ‹΄κΈ΄ λ°μ΄ν„°λ¥Ό μλ°” κ°μ²΄λ΅ λ³€ν™ ν•κ² λλ” κ²ƒμ΄λ‹¤.

```
@RestController
@RequestMapping("/api")
public class HttpMessageController {

  /**
  * @RequestBodyλ¥Ό ν†µν•΄ μλ°” κ°μ²΄λ΅ λ³€ν™ν•  λ• HttpMessageConverterλ¥Ό μ‚¬μ©ν•μ—¬ 
  * ν—¤λ”μ— λ‹΄κΈ΄ μ»¨ν…μΈ  νƒ€μ…μ„ λ³΄κ³  μ–΄λ–¤ λ©”μ‹μ§€ μ»¨λ²„ν„°λ¥Ό μ‚¬μ©ν•  κ²ƒμΈμ§€ νλ‹¨ν•μ—¬ 
  * μ”μ²­ λ³Έλ¬Έμ— λ‹΄κΈ΄ κ°’μ„ μλ°” κ°μ²΄λ΅ λ³€ν™
  */
  @GetMapping
  public String create(@ReqeustBody Event event) {
    // μƒλµ
    return "redirect:/api/list";
  }
  
}

μ°Έκ³  :
HttpMessageConvertersExample.java hosted with β¤ by GitHub
```

`Jackson20bjectMapperBuilder` λ” μ¤ν”„λ§ λ¶€νΈμ—μ„ `JacksonAutoConfiguration` ν΄λμ¤μ—μ„ μλ™μΌλ΅ μ„¤μ •ν•κΈ° λ•λ¬Έμ— λ³„λ‹¤λ¥Έ μ„¤μ •μ—†μ΄ JSONμ„ μλ°” κ°μ²΄λ΅ λ³€ν™ν•λ” `ObjectMapper` λ¥Ό μ‚¬μ© ν•  μ μλ‹¤.

`Jackson20bjeckMapperBuilder` λ‚΄λ¶€λ¥Ό λ³΄λ©΄ **autoDetectGettersSetters()λΌλ” λ©”μ„λ“λ¥Ό μ‚¬μ© ν•λ‹¤.**

μ¦‰, JSON νƒ€μ…μΌλ΅ λ³€ν™ν•κΈ° μ„ν• κ°μ²΄(DTO)μ— getter μ™€ setter λ©”μ„λ“κ°€ μ΅΄μ¬ ν•΄μ•Ό ν•λ‹¤λ” λ»

```
public Jackson2ObjectMapperBuilder autoDetectGettersSetters(boolean autoDetectGettersSetters) {
    this.features.put(MapperFeature.AUTO_DETECT_GETTERS, autoDetectGettersSetters);
    this.features.put(MapperFeature.AUTO_DETECT_SETTERS, autoDetectGettersSetters);
    this.features.put(MapperFeature.AUTO_DETECT_IS_GETTERS, autoDetectGettersSetters);
    return this;
}

μ°Έκ³  :
Jackson2ObjectMapperBuilder.java hosted with β¤ by GitHub
```

λ§μ•½ getter/setterκ°€ μ΅΄μ¬ν•μ§€ μ•μΌλ©΄ μ‘λ‹µ λ©”μ‹μ§€λ¥Ό λ‚΄λ³΄λ‚Όλ• `Jackson20bjectMapperBuilder`λ¥Ό μ λ€λ΅ μ‚¬μ©ν•μ§€ λ»ν•΄μ„ JSON νƒ€μ…μΌλ΅ λ³€ν™μ΄ μ λ€λ΅ λμ§€ μ•μ•„ ν΄λΌμ΄μ–ΈνΈ(JS) λ‹¨μ—μ„ success() ν•¨μλ΅ κ²°κ³Όκ°’(res)λ¥Ό λ°›μ•„ μ¬ μ μ—†λ‹¤.

```
@RequriedArgsConstructor
@RequestMapping("/test")
@RestController
public class RequestBodyTestController {

  private final TestService testService;

  /**
   * TestDto μ— getter, setter λ©”μ„λ“κ°€ μ—†μΌλ©΄
   * JSON νƒ€μ… λ³€ν™μ— μ‹¤ν¨ν•μ—¬ JS μ success ν•¨μκ°€ μ•„λ‹ error ν•¨μλ¥Ό νƒ€κ² λλ‹¤.
   */
  @RequestMapping("/search")
  public TestDto search(TestVo testVo) {
    TestVo result = testService.findTest(testVo);
    return result.toDto();
  }

}
μ°Έκ³  :
RequestBodyTestController.java hosted with β¤ by GitHub
```

μ¤ν”„λ§λ¶€νΈμ pom.xml μ„ λ³΄λ©΄ `spring-boot-starter-web` μ΄ μ΅΄μ¬ν•λ”λ° λ‚΄λ¶€μ— λ“¤μ–΄κ°€λ³΄λ©΄

`jackson-databind`μμ΅΄μ„±μ΄ μλ™μΌλ΅ μ΅ν€μλ” κ²ƒμ„ λ³Ό μ μλ‹¤. ν•΄λ‹Ή μμ΅΄μ„±μ΄ μμ–΄μ•Ό JSONνƒ€μ…μΌλ΅ μ λ€λ΅ λ³€ν™μ΄ λλ‹¤.

## μ •λ¦¬

ν΄λΌμ΄μ–ΈνΈμ—μ„ μ„λ²„λ΅ ν•„μ”ν• λ°μ΄ν„°λ¥Ό μ „μ†΅ν•κΈ° μ„ν•΄μ„ JSONμ΄λΌλ” λ°μ΄ν„°λ¥Ό μ”μ²­ λ³Έλ¬Έ(RequesrBody)μ— λ‹΄μ•„μ„ μ„λ²„λ΅ λ³΄λ‚΄λ©΄, μ„λ²„μ—μ„λ” **@RequestBody** μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•μ—¬ `HTTPμ”μ²­ λ³Έλ¬Έμ— λ‹΄κΈ΄ κ°’λ“¤μ„ μλ°” κ°μ²΄λ΅ λ³€ν™` μ‹μΌ, κ°μ²΄μ— μ €μ¥μ‹ν‚¨λ‹¤.

μ„λ²„μ—μ„ ν΄λΌμ΄μ–ΈνΈλ΅ μ‘λ‹µ λ°μ΄ν„°λ¥Ό μ „μ†΅ν•κΈ° μ„ν•΄μ„ **@ResponseBody** μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•μ—¬ `μλ°” κ°μ²΄λ¥Ό HTTP μ‘λ‹µ λ³Έλ¬Έ(ResponseBody)μ κ°μ²΄λ΅ λ³€ν™` ν•μ—¬ ν΄λΌμ΄μ–ΈνΈλ΅ μ „μ†΅μ‹ν‚¤λ” μ—­ν™μ„ ν•λ‹¤.

### βοΈμ•κ²λ λ¶€λ¶„

-   μ”μ²­ λ³Έλ¬Έ(RequestBody) μ™€ μ‘λ‹µ λ³Έλ¬Έ(ResponseBody) μ— λ€ν• κ°λ…μ„ μ΅κ² λμ—λ‹¤

### π™‹π»β€β™‚οΈμ°Έκ³  μ‚¬μ΄νΈ

[](https://webdevtechblog.com/reqeustbody%EC%99%80-responsebody-%EC%96%B8%EC%A0%9C-%EC%82%AC%EC%9A%A9%ED%95%A0%EA%B9%8C-2efcab364edb)

@ReqeustBodyμ™€ @ResponseBody μ–Έμ  μ‚¬μ©ν• κΉ?

μ¤ν”„λ§μ—μ„ λΉ„λ™κΈ° μ²λ¦¬λ¥Ό ν•λ” κ²½μ° @RequestBody μ™€ @ReponseBody λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤. μ—¬κΈ°μ„λ” μΆ€ λ” μμ„Έν•κ², μ„ μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•μ—¬ μ–΄λ–»κ² λΉ„λ™κΈ° μ²λ¦¬λ¥Ό ν•  κ²ƒμΈμ§€μ— λ€ν•΄μ„ λ°°μ›λ³΄κ² μµλ‹λ‹¤. μλ¥Όλ“¤μ–΄ μ°λ¦¬κ°€ λΈλΌμ°μ €μ—μ„ κ²€μƒ‰ ν‚¤μ›λ“λ¥Ό μ…λ ¥ν•κ³  κ²€μƒ‰ λ²„νΌμ„ λ„λ¥΄κ² λλ©΄ κ²€μƒ‰ ν‚¤μ›λ“κ°€ ν΄λΌμ΄μ–ΈνΈ(ex. Js)λ¥Ό ν†µν•΄ μ„λ²„(ex...

![](https://miro.medium.com/1*m-R_BkNf1Qjr1YbyOIJY2w.png)https://webdevtechblog.com/reqeustbody%EC%99%80-responsebody-%EC%96%B8%EC%A0%9C-%EC%82%AC%EC%9A%A9%ED%95%A0%EA%B9%8C-2efcab364edb

![](https://miro.medium.com/max/765/1*J0POP1cMlf52jAfjuxX5sg.jpeg)

β†’ μ„μ— μ‚¬μ΄νΈμ—μ„ λ‚΄μ©μ„ λ³΄κ³  μ§μ ‘ νƒ€μ΄ν•‘μΌλ΅ μ‘μ„±

### π’¦λ¶€μ΅±ν• μ 

-   κ°λ…μ„ νΌνΌν ν•΄μ•Ό κ² λ‹¤.


